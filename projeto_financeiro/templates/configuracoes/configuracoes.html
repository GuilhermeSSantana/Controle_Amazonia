{% extends "components/layout.html" %}
{% load static %}

{% block page_title %}Configura√ß√µes{% endblock %}

{% block header_title %}Configura√ß√µes{% endblock %}
{% block header_subtitle %}Gerencie os par√¢metros do sistema{% endblock %}

{% block extra_head %}
  <link rel="stylesheet" href="{% static 'css/configuracoes.css' %}">
{% endblock %}

{% block content %}
<div class="settings-page">

  <!-- Card: Dados da Empresa -->
  <section class="card config-card">
    <div class="card-header">
      <div class="config-card-title">
        <div class="config-icon">üè¢</div>
        <div>
          <h2 style="margin: 0; font-size: 1.125rem; font-weight: 600;">Dados da Empresa</h2>
          <p class="card-subtitle">Informa√ß√£o b√°sica usada em cobran√ßas e relat√≥rios</p>
        </div>
      </div>
    </div>

    <div class="card-content">
      <div class="settings-alert info">
        <span class="alert-icon">‚ÑπÔ∏è</span>
        <span>Em breve ser√° poss√≠vel editar essas informa√ß√µes diretamente pelo sistema.</span>
      </div>

      <form method="post" class="settings-form">
        {% csrf_token %}
        <div class="form-grid">
          <div class="form-group">
            <label for="id_company_name">Raz√£o Social</label>
            <input
              type="text"
              id="id_company_name"
              name="company_name"
              class="input"
              value="Amaz√¥nia Engenharia"
              disabled
            >
          </div>

          <div class="form-group">
            <label for="id_company_cnpj">CNPJ</label>
            <input
              type="text"
              id="id_company_cnpj"
              name="company_cnpj"
              class="input"
              value="12.345.678/0001-90"
              disabled
            >
          </div>

          <div class="form-group">
            <label for="id_company_email">Email Corporativo</label>
            <input
              type="email"
              id="id_company_email"
              name="company_email"
              class="input"
              value="admin@amazoniaengenharia.com"
              disabled
            >
          </div>

          <div class="form-group">
            <label for="id_company_phone">Telefone</label>
            <input
              type="text"
              id="id_company_phone"
              name="company_phone"
              class="input"
              value="(92) 99999-9999"
              disabled
            >
          </div>

          <div class="form-group form-group-full">
            <label for="id_company_address">Endere√ßo Completo</label>
            <textarea
              id="id_company_address"
              name="company_address"
              rows="2"
              class="textarea"
              disabled
            >Rua das Palmeiras, 123 - Manaus, AM</textarea>
          </div>
        </div>
      </form>
    </div>
  </section>

  <!-- Card: WhatsApp / Evolution API -->
  <section class="card config-card">
    <div class="card-header">
      <div class="config-card-title">
        <div class="config-icon">üí¨</div>
        <div>
          <h2 style="margin: 0; font-size: 1.125rem; font-weight: 600;">WhatsApp (Evolution API)</h2>
          <p class="card-subtitle">Integra√ß√£o para envio autom√°tico de lembretes</p>
        </div>
      </div>
    </div>

    <div class="card-content">
      <div class="config-disabled-banner">
        <span class="config-disabled-icon">üîß</span>
        <span>Integra√ß√£o em desenvolvimento</span>
      </div>

      <div class="settings-toggle-row">
        <div>
          <p class="settings-toggle-title">Ativar lembretes por WhatsApp</p>
          <p class="settings-toggle-subtitle">
            Enviar mensagens autom√°ticas para clientes com base nas cobran√ßas
          </p>
        </div>
        <label class="switch">
          <input type="checkbox" disabled>
          <span class="slider"></span>
        </label>
      </div>

      <div class="settings-alert warning">
        <span class="alert-icon">‚ö†Ô∏è</span>
        <span>Campos exibidos apenas para visualiza√ß√£o. A funcionalidade ser√° ativada em breve.</span>
      </div>

      <div class="config-fieldset-disabled">
        <div class="form-grid">
          <div class="form-group form-group-full">
            <label for="id_api_url">URL da Evolution API</label>
            <input
              type="text"
              id="id_api_url"
              name="api_url"
              class="input"
              placeholder="https://sua-instancia-evolution.com"
              disabled
            >
            <span class="form-hint">Endere√ßo completo da sua inst√¢ncia Evolution</span>
          </div>

          <div class="form-group">
            <label for="id_api_key">Chave da API</label>
            <input
              type="password"
              id="id_api_key"
              name="api_key"
              class="input"
              placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
              disabled
            >
          </div>

          <div class="form-group">
            <label for="id_instance_name">Nome da Inst√¢ncia</label>
            <input
              type="text"
              id="id_instance_name"
              name="instance_name"
              class="input"
              placeholder="amazonia-engenharia"
              disabled
            >
          </div>

          <div class="form-group-inline form-group-full">
            <label class="checkbox-inline">
              <input type="checkbox" disabled>
              <span>Modo de teste (sandbox)</span>
            </label>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Card: Lembretes Autom√°ticos -->
  <section class="card config-card">
    <div class="card-header">
      <div class="config-card-title">
        <div class="config-icon">‚è∞</div>
        <div>
          <h2 style="margin: 0; font-size: 1.125rem; font-weight: 600;">Lembretes Autom√°ticos</h2>
          <p class="card-subtitle">Regras de envio de mensagens antes e depois do vencimento</p>
        </div>
      </div>
    </div>

    <div class="card-content">
      <div class="config-disabled-banner">
        <span class="config-disabled-icon">üîß</span>
        <span>Automa√ß√£o ainda n√£o est√° ativa</span>
      </div>

      <div class="config-fieldset-disabled">
        <div class="form-grid">
          <div class="form-group">
            <label for="id_days_before">Dias antes do vencimento</label>
            <input
              type="number"
              id="id_days_before"
              class="input"
              value="3"
              min="0"
              max="30"
              disabled
            >
            <span class="form-hint">Enviar lembrete X dias antes</span>
          </div>

          <div class="form-group">
            <label for="id_days_after">Dias ap√≥s vencimento</label>
            <input
              type="number"
              id="id_days_after"
              class="input"
              value="5"
              min="0"
              max="30"
              disabled
            >
            <span class="form-hint">Enviar cobran√ßa X dias depois</span>
          </div>

          <div class="form-group-inline">
            <label class="checkbox-inline">
              <input type="checkbox" checked disabled>
              <span>Enviar no dia do vencimento</span>
            </label>
          </div>

          <div class="form-group-inline">
            <label class="checkbox-inline">
              <input type="checkbox" disabled>
              <span>Incluir finais de semana</span>
            </label>
          </div>

          <div class="form-group-inline form-group-full">
            <label class="checkbox-inline">
              <input type="checkbox" checked disabled>
              <span>Apenas hor√°rio comercial (08h √†s 18h)</span>
            </label>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Card: Templates de Mensagem -->
  <section class="card config-card">
    <div class="card-header">
      <div class="config-card-title">
        <div class="config-icon">‚úâÔ∏è</div>
        <div>
          <h2 style="margin: 0; font-size: 1.125rem; font-weight: 600;">Templates de Mensagem</h2>
          <p class="card-subtitle">Modelos usados nos lembretes enviados aos clientes</p>
        </div>
      </div>
    </div>

    <div class="card-content">
      <div class="settings-alert info">
        <span class="alert-icon">üí°</span>
        <span><strong>Vari√°veis dispon√≠veis:</strong> {nome}, {valor}, {vencimento}, {dias_restantes}</span>
      </div>

      <div class="config-fieldset-disabled">
        <div class="form-group">
          <label for="id_template_before">Antes do vencimento</label>
          <textarea
            id="id_template_before"
            rows="4"
            class="textarea"
            disabled
          >Ol√° {nome}! üåø
Lembrete amig√°vel: sua fatura no valor de {valor} vence em {dias_restantes} dia(s) ({vencimento}).

Para evitar transtornos, realize o pagamento at√© a data de vencimento.

*Amaz√¥nia Engenharia*</textarea>
        </div>

        <div class="form-group">
          <label for="id_template_due">No dia do vencimento</label>
          <textarea
            id="id_template_due"
            rows="4"
            class="textarea"
            disabled
          >Ol√° {nome}! üìÖ
Sua fatura no valor de {valor} vence hoje ({vencimento}).

Por favor, realize o pagamento para manter seus servi√ßos em dia.

*Amaz√¥nia Engenharia*</textarea>
        </div>

        <div class="form-group">
          <label for="id_template_after">Ap√≥s vencimento</label>
          <textarea
            id="id_template_after"
            rows="4"
            class="textarea"
            disabled
          >Ol√° {nome}! ‚ö†Ô∏è
Sua fatura no valor de {valor} est√° vencida desde {vencimento}.

Entre em contato conosco para regularizar a situa√ß√£o.

*Amaz√¥nia Engenharia*</textarea>
        </div>
      </div>
    </div>
  </section>

</div>
{% endblock %}